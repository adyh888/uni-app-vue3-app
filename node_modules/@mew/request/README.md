## ^5.2.131
## 初始化项目

### vue项目-非uniapp

```typescript
// api.ts
import * as api from '@mew/request'
import axios from 'axios'
import { getAuth, Dashboard, Ac, Dc, Gc, Lc, Mc, Tc, Uc } from '@mew/request'

const BaseURL = 'http://www.mew-iot.cn:51000'

let service = axios.create({
    baseURL: BaseURL
})

export const isDebugMode = false
export let ac = Ac(service, isDebugMode)
export let dc = Dc(service, isDebugMode)
export let gc = Gc(service, isDebugMode)
export let lc = Lc(service, isDebugMode)
export let mc = Mc(service, isDebugMode)
export let tc = Tc(service, isDebugMode)
export let uc = Uc(service, isDebugMode)
export let dashboard = Dashboard(service, isDebugMode)

getAuth({username:'admin',password:'111111'},service).then(res=>{
    console.log(res)
    console.assert(res.data.access_token && res.data.access_token!=='','access_token必须存在！！！')
    service = axios.create({
        baseURL: BaseURL,
        timeout: 10000,
        headers:{
            'Authorization': 'Bearer ' + res.data.access_token
        }
    })
    ac = Ac(service, isDebugMode)
    dc = Dc(service, isDebugMode)
    gc = Gc(service, isDebugMode)
    lc = Lc(service, isDebugMode)
    mc = Mc(service, isDebugMode)
    tc = Tc(service, isDebugMode)
    uc = Uc(service, isDebugMode)
    dashboard = Dashboard(service, isDebugMode)
    console.log('done')
})
// 调用处 xxx.vue
import { ac } from 'xxx/api'
await ac.task.select({})
```
#### rabbitmq
```typescript

const service = axios.create({
    baseURL: 'https://rabbitmq.mew-iot.cn',
    adapter: axiosAdapterUniapp,
    timeout: 10000,
    headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Basic Ym9vaGVyOnNtYXJ0',
        'Access-Control-Allow-Origin': '*'
    }
})

export const rabbitApi = new RabbitApi('https://rabbitmq.mew-iot.cn')
rabbitApi.bind(`${deviceId}.0`, `${deviceId}.0.*.web`, `*.web.#`)
```

### uniapp项目
#### 微服务
```typescript
import * as api from '@mew/request'
import axios from 'axios'
import { getAuth, Dashboard, Ac, Dc, Gc, Lc, Mc, Tc, Uc } from '@mew/request'

const BaseURL = 'http://www.mew-iot.cn:51000'

const service = axios.create({
    baseURL: BaseURL,
    timeout: 10000,
    adapter: axiosAdapterUniapp as AxiosAdapter,
    headers:{
        'Authorization': 'Bearer ' + 'access_token'
    }
})

export const isDebugMode = false
export const ac = Ac(service, isDebugMode)
export const dc = Dc(service, isDebugMode)
export const gc = Gc(service, isDebugMode)
export const lc = Lc(service, isDebugMode)
export const mc = Mc(service, isDebugMode)
export const tc = Tc(service, isDebugMode)
export const uc = Uc(service, isDebugMode)
// export const dingtalk = new DingTalk(appId, service)
export const dashboard = Dashboard(service, isDebugMode)

const service2 = axios.create({
    baseURL: 'https://rabbitmq.mew-iot.cn',
    adapter: axiosAdapterUniapp,
    timeout: 10000,
    headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Basic Ym9vaGVyOnNtYXJ0',
        'Access-Control-Allow-Origin': '*'
    }
})

export const rabbitApi = new RabbitApi('https://rabbitmq.mew-iot.cn')
rabbitApi.bind(`${deviceId}.0`, `${deviceId}.0.*.web`, `*.web.#`)
```
#### rabbitmq
```typescript

```

### 注意点
- Ac Mc ... 如果要用 this 不能使用箭头函数
