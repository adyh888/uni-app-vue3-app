import {AxiosEnv} from "../main";
import {mewMsPost, mewRequest, Request} from "../request";
import {AxiosInstance} from "axios";

export interface cacheGetInterface {
    key: string,
}

export function Common(service: any, isDebugMode: boolean = false) {
    return {
        // function
        cacheGetData: (service: AxiosInstance) => async () => {
            return await mewMsPost('/cache/get', {key: "localStatus", index: 0}, service, isDebugMode)
        },
        /**
         * 获取缓存
         * {key: "conf"}
         */
        cacheGet: (service: AxiosInstance) => async () => {
            return await mewMsPost('/cache/get', {key: "conf"}, service, isDebugMode)
        },
        /**
         * 设置缓存
         * @param service
         */
        cacheSet: (service: AxiosInstance) => async (params: any) => {
            return await mewMsPost('/cache/set', params, service, isDebugMode)
        }
    }
}
