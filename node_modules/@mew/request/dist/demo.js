"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ac = exports.isDebugMode = void 0;
var tslib_1 = require("tslib");
var main_1 = require("./main");
var axios_1 = tslib_1.__importDefault(require("axios"));
var BaseURL = 'http://www.mew-iot.cn:51000';
var service = axios_1.default.create({
    baseURL: BaseURL,
    timeout: 10000
});
exports.isDebugMode = true;
exports.ac = main_1.Ac(service, exports.isDebugMode);
main_1.getAuth({ username: 'admin', password: '111111' }, axios_1.default.create({ baseURL: BaseURL })).then(function (res) {
    console.log(res);
    console.assert(res.data.access_token && res.data.access_token != '', 'access_token必须存在！！！');
    service = axios_1.default.create({
        baseURL: BaseURL,
        timeout: 10000,
        // adapter: axiosAdapterUniapp as AxiosAdapter,
        headers: {
            'Authorization': 'Bearer ' + res.data.access_token
        }
    });
    exports.ac = main_1.Ac(service, exports.isDebugMode);
    console.log('done');
});
